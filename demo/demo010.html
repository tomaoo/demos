<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<title>获取URL参数对象</title>
	<script>
		

		var url='http://www.domain.com/?user=anonymous&id=123&id=456&city=%E5%8C%97%E4%BA%AC&enabled&dd={a:1,b:2}&cd=011';
		
		function paramObj(url){
			var param=(url.indexOf('?'))?(decodeURIComponent(url.slice(url.indexOf('?')+1))).split('&'):null;
			var obj={};
			if(param==null) return param;
			param.forEach(function(v){
				var [key,val]=v.split('=');
				if(obj.hasOwnProperty(key)) obj[key]=[].concat(obj[key],val);
				else obj[key]=(val!=undefined)?val:null;
			})
			return obj;
		}

		console.log(paramObj(url))

		
	</script>
</head>
<body>
</body>
</html>